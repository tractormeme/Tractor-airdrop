<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TTToken Airdrop</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background-color: #111;
      color: #fff;
    }
    header {
      background-color: #a00;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
    }
    .scoreboard {
      text-align: center;
      background-color: #222;
      padding: 1rem;
      font-size: 1.2rem;
    }
    .stars {
      color: gold;
      font-size: 1.5rem;
    }
    .logo-box {
      text-align: center;
      margin: 20px 0;
    }
    .logo-box img {
      width: 120px;
      height: auto;
    }
    .logo-box .year {
      margin-top: 5px;
      font-size: 18px;
      color: #aaa;
    }
    nav {
      display: flex;
      justify-content: center;
      background-color: #222;
    }
    nav button {
      flex: 1;
      padding: 1rem;
      border: none;
      background: #222;
      color: white;
      cursor: pointer;
    }
    nav button.active, nav button:hover {
      background-color: #a00;
    }
    section {
      display: none;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
    }
    section.active {
      display: block;
    }
    input, button {
      padding: 0.5rem;
      margin: 0.5rem 0;
      width: 100%;
    }

    /* Task Card Styles */
    .task-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    }
    .task-card {
      background-color: #222;
      border-radius: 10px;
      padding: 1rem;
      text-align: center;
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
    }
    .task-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 10px #a00;
    }
    .task-card h3 {
      margin: 0.5rem 0;
      color: #0af;
    }
    .task-card p {
      color: #ccc;
    }
  </style>
</head>
<body>
  <header>TTToken Airdrop</header>

  <div class="scoreboard">
    Your Stars: <span id="starCount" class="stars">0</span>
  </div>

  <div class="logo-box">
    <img src="https://img.icons8.com/external-flat-juicy-fish/120/ffffff/external-tractor-agriculture-flat-flat-juicy-fish.png" alt="Funny Tractor Logo">
    <div class="year">1970</div>
  </div>

  <nav>
    <button onclick="showTab('email')" class="active">Step 1: Email</button>
    <button onclick="showTab('tasks')">Step 2: Tasks</button>
    <button onclick="showTab('wallet')">Step 3: Wallet</button>
    <button onclick="showTab('referral')">Step 4: Referral</button>
  </nav>

  <section id="email" class="active">
    <h2>Register Email</h2>
    <input type="email" id="emailInput" placeholder="Enter your email" />
    <button onclick="saveEmail()">Save Email</button>
  </section>

  <section id="tasks">
    <h2>Complete Social Tasks</h2>
    <div class="task-grid">
      <div class="task-card" onclick="completeTask(this, 5)">
        <h3>Join Telegram</h3>
        <p><a href="https://t.me/tt_memecoin" target="_blank">Click to join</a></p>
        <p>Reward: ★★★★★</p>
      </div>
      <div class="task-card" onclick="completeTask(this, 5)">
        <h3>Follow Instagram</h3>
        <p><a href="https://www.instagram.com/tttoken1970" target="_blank">Click to follow</a></p>
        <p>Reward: ★★★★★</p>
      </div>
      <div class="task-card" onclick="completeTask(this, 5)">
        <h3>Follow on X</h3>
        <p><a href="https://x.com/tractormemecoin" target="_blank">Click to follow</a></p>
        <p>Reward: ★★★★★</p>
      </div>
    </div>
  </section>

  <section id="wallet">
    <h2>Submit Your Ton Wallet</h2>
    <input type="text" id="walletInput" placeholder="TON wallet address" />
    <button onclick="saveWallet()">Save Wallet</button>
  </section>

  <section id="referral">
    <h2>Your Referral Link</h2>
    <p id="referralLink">Complete previous steps to generate your referral link.</p>
    <p>Each valid referral gives you ★★</p>
  </section>

  <script>
    let starCount = 0;

    const emailSection = document.getElementById('email');
    const tasksSection = document.getElementById('tasks');
    const walletSection = document.getElementById('wallet');
    const referralSection = document.getElementById('referral');

    const tabs = [emailSection, tasksSection, walletSection, referralSection];

    function showTab(id) {
      const email = localStorage.getItem('tt_email');
      if (!email && id !== 'email') {
        alert('Please register with your email first.');
        return;
      }
      tabs.forEach(tab => tab.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }

    function saveEmail() {
      const email = document.getElementById('emailInput').value;
      if (!email || !email.includes('@')) {
        alert('Please enter a valid email.');
        return;
      }
      localStorage.setItem('tt_email', email);
      alert('Email saved!');
    }

    function saveWallet() {
      const wallet = document.getElementById('walletInput').value;
      const email = localStorage.getItem('tt_email');
      if (!email) return alert('Please save your email first.');
      const refCode = email.split('@')[0];
      const refLink = `${window.location.origin}?ref=${refCode}`;
      document.getElementById('referralLink').innerText = refLink;
      alert('Wallet saved!');
    }

    function completeTask(element, reward) {
      if (element.classList.contains('done')) {
        alert('You already completed this task.');
        return;
      }
      element.classList.add('done');
      starCount += reward;
      document.getElementById('starCount').innerText = starCount;
    }
  </script>
</body>
</html>
